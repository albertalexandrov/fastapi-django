# Шаблонизация

Раньше, чтобы отрендерить шаблон приходилось выполнить 3 шага:

```python
from fastapi.templating import Jinja2Templates
from datetime import datetime

templates = Jinja2Templates(directory="app/mail_templates")
mail_export_proposals = templates.get_template("export_proposals.html")
body = mail_export_proposals.render(
    file_link="http://localhost:8000/file-link", 
    expire_datetime=datetime.now(),
)
```

Теперь в отрендерить шаблон можно одной функцией `fastapi_django.template.render_to_string`:

```python
from fastapi_django.template import render_to_string
from datetime import datetime

render_to_string(
    "export_proposals.html", 
    context={
        "file_link": "http://localhost:8000/file-link", 
        "expire_datetime": datetime.now()
    }
)
```

`fastapi-django` под капотом создает объект `fastapi.templating.Jinja2Templates`, который также доступен для импорта 
и прямого использования.

Необходимые настройки:

    - TEMPLATES_DIRECTORY - str, директория, из которой будут загружаться шаблоны. Значение по умолчанию templates (в корне проекта)
    - TEMPLATES_CONTEXT_PROCESSORS - list, список функций, возвращающих словарь для добавления в контекст шаблона. 
    - TEMPLATES_ENV_OPTIONS - dict, опции для объекта jinja2.Environment
