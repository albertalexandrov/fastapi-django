# Логирование

Логирование реализовано как в Django. Настройки логирования прописываются в LOGGING. Значение может быть словарем
или callable.
Желательно, чтобы настройка LOGGING была единым местом для определения настроек логирования - так, например,
при запуске uvicorn в команде [runserver](../fastapi_django/management/cli.py) в функцию `run()` в параметр log_config 
передается None, чтобы дефолтные настройки, которые uvicorn хранит в константе uvicorn.config.LOGGING_CONFIG 
не перетирали настройки из LOGGING:

```python
import uvicorn

uvicorn.run(**params, log_config=None)
```

## Контекстно зависимое логирование

Чтобы добавить в лог дополнительных полей, используйте контекстный менеджер `fastapi_django.logging.logging_context`.
Пример применения:

```python
import logging
from fastapi_django.logging import logging_context

with logging_context(num=1):
    logging.info("лог с контекстом")
    # выведет сообщение
    # {
    #     "message": "лог с контекстом",
    #     "num": 1
    # }
logging.info("лог БЕЗ контекста")
# выведет сообщение:
# {
#     "message": "лог с контекстом"
# }
```

## Пример

Пример настройки LOGGING см. по ссылке https://github.com/albertalexandrov/fastapi-django-example/blob/main/src/settings.py
